<app-stepper [steps]="steps" [currentStep]="currentStep"></app-stepper>
<form [formGroup]="form" (ngSubmit)="onSubmit()" class="mx-auto mt-12 max-w-xl sm:mt-20">
    <section *ngIf="currentStep === 1" class="grid grid-cols-3 gap-x-8 gap-y-6">
        <div class="col-span-3 grid grid-cols-12 gap-x-3">
            <div class="col-span-5">
                <label for="policySeria" class="block text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100">Серия полиса</label>
                <div class="mt-2.5">
                    <input placeholder="EAIN" type="text" name="policySeria" id="policySeria" formControlName="policySeria" required (input)="onPolicySeriaChange($event)"
                        class="block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-green-600 focus-visible:outline-none sm:text-sm sm:leading-6 placeholder:text-gray-400"
                    >
                </div>
                <p *ngIf="form.controls['policySeria'].invalid && (form.controls['policySeria'].dirty || form.controls['policySeria'].touched)" 
                    class="mt-2 text-sm text-red-600 dark:text-red-500"
                >
                    wrong!
                </p>
            </div>
            <div class="col-span-7">
                <label for="policyNumber" class="block text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100">Номер полиса</label>
                <div class="mt-2.5">
                    <input placeholder="12345" type="text" name="policyNumber" id="policyNumber" formControlName="policyNumber" required (input)="onPolicyNumberChange($event)"
                        class="block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-green-600 focus-visible:outline-none sm:text-sm sm:leading-6 placeholder:text-gray-400"
                    >
                </div>
                <p *ngIf="form.controls['policyNumber'].invalid && (form.controls['policyNumber'].dirty || form.controls['policyNumber'].touched)" 
                    class="mt-2 text-sm text-red-600 dark:text-red-500"
                >
                    wrong!
                </p>
            </div>
        </div>
        <div class="col-span-3">
            <label for="govNumber" class="block text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100">Номер авто</label>
            <div class="mt-2.5">
                <input placeholder="01A123BC" type="text" name="govNumber" id="govNumber" formControlName="govNumber" required (input)="onGovNumberChange($event)"
                    class="block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-green-600 focus-visible:outline-none sm:text-sm sm:leading-6 placeholder:text-gray-400"
                >
            </div>
            <p *ngIf="form.controls['govNumber'].invalid && (form.controls['govNumber'].dirty || form.controls['govNumber'].touched)" 
                class="mt-2 text-sm text-red-600 dark:text-red-500"
            >
                wrong!
            </p>
        </div>
    </section>
    
    <section *ngIf="currentStep === 2" class="grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2">
        <div>
            <label for="name" class="block text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100">First name</label>
            <div class="mt-2.5">
                <input placeholder="username.example" type="text" name="name" id="name" class="block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
            </div>
        </div>
        <div>
            <label for="last-name" class="block text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100">Last name</label>
            <div class="mt-2.5">
                <input placeholder="username.example" type="text" name="last-name" id="last-name" class="block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
            </div>
        </div>
    </section>
    
    <section *ngIf="currentStep === 3" class="grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2">
        <div>
            <label for="name" class="block text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100">First name</label>
            <div class="mt-2.5">
                <input placeholder="username.example" type="text" name="name" id="name" class="block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
            </div>
        </div>
        <div>
            <label for="last-name" class="block text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100">Last name</label>
            <div class="mt-2.5">
                <input placeholder="username.example" type="text" name="last-name" id="last-name" class="block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
            </div>
        </div>
    </section>
    
    <section *ngIf="currentStep === 4" class="grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2">
        <div>
            <label for="name" class="block text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100">First name</label>
            <div class="mt-2.5">
                <input placeholder="username.example" type="text" name="name" id="name" class="block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
            </div>
        </div>
        <div>
            <label for="last-name" class="block text-sm font-semibold leading-6 text-gray-900 dark:text-gray-100">Last name</label>
            <div class="mt-2.5">
                <input placeholder="username.example" type="text" name="last-name" id="last-name" class="block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
            </div>
        </div>
    </section>
    <nav [ngClass]="{ 'flex-row-reverse': currentStep === 1 }" 
    class="mt-10 text-base flex justify-between bg-neutral-white xl:relative xl:p-0 xl:mb-5 xl:min-w-[28.125rem] xl:max-w-[28.125rem]" >
        <button *ngIf="currentStep >= 2" (click)="changePage(false)" type="button"
        class="block rounded-md px-3.5 py-2.5 text-center text-sm font-semibold hover:bg-gray-200 dark:hover:bg-white/[.3] text-gray-900 dark:text-gray-100" >
            Go Back
        </button>
        <button [disabled]="form.invalid" *ngIf="currentStep !== 4" (click)="changePage(true)" type="button"
        class="block rounded-md bg-green-500 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm hover:bg-green-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-500" >
            Next Step
        </button>
        <button *ngIf="currentStep === 4" type="submit"
        class="block rounded-md bg-green-500 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm hover:bg-green-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-500" >
            Confirm
        </button>
    </nav>
</form>